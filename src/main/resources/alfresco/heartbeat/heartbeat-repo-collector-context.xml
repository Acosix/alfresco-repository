<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE beans PUBLIC '-//SPRING//DTD BEAN//EN' 'http://www.springframework.org/dtd/spring-beans.dtd'>

<beans>

    <!-- HeartBeat repository info data collector -->
    <bean id="infoDataCollector" class="org.alfresco.heartbeat.InfoDataCollector" parent="hbBaseDataCollector" init-method="register">
        <constructor-arg type = "java.lang.String" value = "acs.repository.info"/>
        <property name="collectorVersion" value="1.0"/>
        <property name="cronExpression" value="0 0/2 * * * ?"/> <!-- every hour -->
        <property name="currentRepoDescriptorDAO" ref="currentRepoDescriptorDAO"/>
        <property name="serverDescriptorDAO" ref="serverDescriptorDAO"/>
    </bean>

    <!-- HeartBeat repository usage model data collector -->
    <bean id="usageModelDataCollector" class="org.alfresco.heartbeat.UsageModelDataCollector" parent="hbBaseDataCollector" init-method="register">
        <constructor-arg type = "java.lang.String" value = "acs.repository.usage.model"/>
        <property name="collectorVersion" value="1.0"/>
        <property name="cronExpression" value="0 0/2 * * * ?"/> <!-- every hour -->
        <property name="currentRepoDescriptorDAO" ref="currentRepoDescriptorDAO"/>
        <property name="customModelService" ref="customModelService"/>
        <property name="transactionService" ref="transactionService"/>
    </bean>

    <!-- HeartBeat repository usage system data collector -->
    <bean id="usageSystemDataCollector" class="org.alfresco.heartbeat.UsageSystemDataCollector" parent="hbBaseDataCollector" init-method="register">
        <constructor-arg type = "java.lang.String" value = "acs.repository.usage.system"/>
        <property name="collectorVersion" value="1.0"/>
        <property name="cronExpression" value="0 0/2 * * * ?"/> <!-- every hour -->
        <property name="currentRepoDescriptorDAO" ref="currentRepoDescriptorDAO"/>
    </bean>

    <!-- HeartBeat authority data collector -->
    <bean id="authorityDataCollector" class="org.alfresco.heartbeat.AuthoritiesDataCollector" parent="hbBaseDataCollector" init-method="register">
        <constructor-arg type = "java.lang.String" value = "acs.repository.usage.authorities"/>
        <property name="collectorVersion" value="1.0"/>
        <property name="cronExpression" value="0 0/2 * * * ?"/> <!-- every hour -->
        <property name="currentRepoDescriptorDAO" ref="currentRepoDescriptorDAO"/>
        <property name="authorityService" ref="authorityService"/>
    </bean>

</beans>
